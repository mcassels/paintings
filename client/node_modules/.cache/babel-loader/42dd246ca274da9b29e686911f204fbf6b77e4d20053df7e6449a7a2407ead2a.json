{"ast":null,"code":"var _jsxFileName = \"/Users/morgan/dev/paintings/src/PhotoGallery.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { createSearchParams, useNavigate } from 'react-router-dom';\nimport Gallery from 'react-photo-gallery';\nimport Lightbox from \"yet-another-react-lightbox\";\nimport \"yet-another-react-lightbox/styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PhotoGallery(props) {\n  _s();\n  const {\n    paintings\n  } = props;\n  const navigate = useNavigate();\n  const params = new URLSearchParams(document.location.search);\n  // Track the painting id and not index in the header, so that the URL can be shared\n  // even when the order of the paintings changes.\n  const selectedPhotoId = params.get('selected');\n  const selectedPhotoIdx = selectedPhotoId ? paintings.findIndex(p => p.id === parseInt(selectedPhotoId)) : undefined;\n  debugger;\n  const photos = paintings.map(p => {\n    return {\n      src: p.photo.url,\n      width: p.photo.width,\n      height: p.photo.height,\n      source: p.photo.url,\n      caption: p.name,\n      original: p.photo.url,\n      thumbnail: p.photo.url,\n      // TODO: get actual thumbnail url\n      id: p.id\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Gallery, {\n      photos: photos,\n      onClick: (e, {\n        index\n      }) => {\n        var _photos$index;\n        const nextSelectedId = (_photos$index = photos[index]) === null || _photos$index === void 0 ? void 0 : _photos$index.id;\n        if (nextSelectedId) {\n          navigate({\n            pathname: document.location.pathname,\n            search: createSearchParams({\n              selected: nextSelectedId.toString()\n            }).toString()\n          });\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Lightbox, {\n      open: selectedPhotoIdx !== undefined,\n      close: () => setOpen(false),\n      index: selectedPhotoIdx,\n      slides: photos\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(PhotoGallery, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = PhotoGallery;\nvar _c;\n$RefreshReg$(_c, \"PhotoGallery\");","map":{"version":3,"names":["React","createSearchParams","useNavigate","Gallery","Lightbox","jsxDEV","_jsxDEV","PhotoGallery","props","_s","paintings","navigate","params","URLSearchParams","document","location","search","selectedPhotoId","get","selectedPhotoIdx","findIndex","p","id","parseInt","undefined","photos","map","src","photo","url","width","height","source","caption","name","original","thumbnail","children","onClick","e","index","_photos$index","nextSelectedId","pathname","selected","toString","fileName","_jsxFileName","lineNumber","columnNumber","open","close","setOpen","slides","_c","$RefreshReg$"],"sources":["/Users/morgan/dev/paintings/src/PhotoGallery.tsx"],"sourcesContent":["import React from 'react';\nimport ImageGallery from 'react-image-gallery';\nimport Carousel, { Modal, ModalGateway } from \"react-images\";\nimport { createSearchParams, useLocation, useNavigate } from 'react-router-dom';\nimport Gallery from 'react-photo-gallery'\nimport Lightbox from \"yet-another-react-lightbox\";\nimport \"yet-another-react-lightbox/styles.css\";\n\nimport { Painting } from './types';\n\ninterface PhotoGalleryProps {\n  paintings: Painting[];\n}\n\nexport default function PhotoGallery(props: PhotoGalleryProps) {\n  const { paintings } = props;\n\n  const navigate = useNavigate();\n\n  const params = new URLSearchParams(document.location.search);\n  // Track the painting id and not index in the header, so that the URL can be shared\n  // even when the order of the paintings changes.\n  const selectedPhotoId = params.get('selected');\n  const selectedPhotoIdx = selectedPhotoId ? paintings.findIndex((p) => p.id === parseInt(selectedPhotoId)) : undefined;\n  debugger;\n\n  const photos = paintings.map((p) => {\n    return {\n      src: p.photo.url,\n      width: p.photo.width,\n      height: p.photo.height,\n      source: p.photo.url,\n      caption: p.name,\n      original: p.photo.url,\n      thumbnail: p.photo.url, // TODO: get actual thumbnail url\n      id: p.id,\n    };\n  });\n\n  return (\n    <div>\n      <Gallery\n        photos={photos}\n        onClick={(e, { index }) => {\n          const nextSelectedId = photos[index]?.id;\n          if (nextSelectedId) {\n            navigate({\n              pathname: document.location.pathname,\n              search: createSearchParams({\n                selected: nextSelectedId.toString(),\n              }).toString()\n            });\n          }\n        }}\n      />\n      <Lightbox\n        open={selectedPhotoIdx !== undefined}\n        close={() => setOpen(false)}\n        index={selectedPhotoIdx}\n        slides={photos}\n      />\n      {/* {\n        selectedPhotoIdx !== undefined && (\n          <ImageGallery\n            items={photos}\n            startIndex={selectedPhotoIdx}\n            showPlayButton={false}\n          />\n        )\n      } */}\n\n    </div>\n  )\n}"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,SAASC,kBAAkB,EAAeC,WAAW,QAAQ,kBAAkB;AAC/E,OAAOC,OAAO,MAAM,qBAAqB;AACzC,OAAOC,QAAQ,MAAM,4BAA4B;AACjD,OAAO,uCAAuC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAQ/C,eAAe,SAASC,YAAYA,CAACC,KAAwB,EAAE;EAAAC,EAAA;EAC7D,MAAM;IAAEC;EAAU,CAAC,GAAGF,KAAK;EAE3B,MAAMG,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAE9B,MAAMU,MAAM,GAAG,IAAIC,eAAe,CAACC,QAAQ,CAACC,QAAQ,CAACC,MAAM,CAAC;EAC5D;EACA;EACA,MAAMC,eAAe,GAAGL,MAAM,CAACM,GAAG,CAAC,UAAU,CAAC;EAC9C,MAAMC,gBAAgB,GAAGF,eAAe,GAAGP,SAAS,CAACU,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKC,QAAQ,CAACN,eAAe,CAAC,CAAC,GAAGO,SAAS;EACrH;EAEA,MAAMC,MAAM,GAAGf,SAAS,CAACgB,GAAG,CAAEL,CAAC,IAAK;IAClC,OAAO;MACLM,GAAG,EAAEN,CAAC,CAACO,KAAK,CAACC,GAAG;MAChBC,KAAK,EAAET,CAAC,CAACO,KAAK,CAACE,KAAK;MACpBC,MAAM,EAAEV,CAAC,CAACO,KAAK,CAACG,MAAM;MACtBC,MAAM,EAAEX,CAAC,CAACO,KAAK,CAACC,GAAG;MACnBI,OAAO,EAAEZ,CAAC,CAACa,IAAI;MACfC,QAAQ,EAAEd,CAAC,CAACO,KAAK,CAACC,GAAG;MACrBO,SAAS,EAAEf,CAAC,CAACO,KAAK,CAACC,GAAG;MAAE;MACxBP,EAAE,EAAED,CAAC,CAACC;IACR,CAAC;EACH,CAAC,CAAC;EAEF,oBACEhB,OAAA;IAAA+B,QAAA,gBACE/B,OAAA,CAACH,OAAO;MACNsB,MAAM,EAAEA,MAAO;MACfa,OAAO,EAAEA,CAACC,CAAC,EAAE;QAAEC;MAAM,CAAC,KAAK;QAAA,IAAAC,aAAA;QACzB,MAAMC,cAAc,IAAAD,aAAA,GAAGhB,MAAM,CAACe,KAAK,CAAC,cAAAC,aAAA,uBAAbA,aAAA,CAAenB,EAAE;QACxC,IAAIoB,cAAc,EAAE;UAClB/B,QAAQ,CAAC;YACPgC,QAAQ,EAAE7B,QAAQ,CAACC,QAAQ,CAAC4B,QAAQ;YACpC3B,MAAM,EAAEf,kBAAkB,CAAC;cACzB2C,QAAQ,EAAEF,cAAc,CAACG,QAAQ,CAAC;YACpC,CAAC,CAAC,CAACA,QAAQ,CAAC;UACd,CAAC,CAAC;QACJ;MACF;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACF3C,OAAA,CAACF,QAAQ;MACP8C,IAAI,EAAE/B,gBAAgB,KAAKK,SAAU;MACrC2B,KAAK,EAAEA,CAAA,KAAMC,OAAO,CAAC,KAAK,CAAE;MAC5BZ,KAAK,EAAErB,gBAAiB;MACxBkC,MAAM,EAAE5B;IAAO;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAWC,CAAC;AAEV;AAACxC,EAAA,CA3DuBF,YAAY;EAAA,QAGjBL,WAAW;AAAA;AAAAoD,EAAA,GAHN/C,YAAY;AAAA,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}